---
import imgHero from '@/assets/mock/fondo_hero.avif';
import logoCompleto from '@/assets/logos/logo_completo.avif';
import logoCompacto from '@/assets/svg/logo_compacto.svg';
---

<section
  id="hero"
  class="before:conten-[''] before:right-o relative flex h-[750px] w-full items-start justify-end overflow-hidden text-blackolive-100 before:absolute before:top-[70px] before:left-16 before:-z-10 before:h-full before:w-full before:bg-[url('../assets/mock/hero-claro.avif')] before:bg-contain before:bg-no-repeat before:opacity-30 sm:right-0 sm:h-[900px] sm:before:top-0 lg:left-0 lg:h-dvh lg:items-center lg:before:bg-right-top lg:before:opacity-100"
>
  <div class="flex h-full flex-col items-center justify-center lg:h-auto lg:items-start">
    <h1 class="w-full sm:w-[70%] lg:w-[65%] xl:w-[70%]">
      <picture>
        <source
          srcset={logoCompacto.src}
          type="image/svg+xml"
          media="(max-width: 1023px)"
          class="w-[25%] object-contain"
        />
        <img
          src={logoCompleto.src}
          alt="Planifica Mejor"
          class="h-full w-full object-contain object-center"
        />
      </picture>
    </h1>
    <div class="w-full px-5 text-left sm:mt-0 sm:ml-3 lg:w-[60%] xl:ml-12 xl:w-[55%] 2xl:w-[70%]">
      <h2
        class="font-titulo text-3xl leading-7 font-bold tracking-wider sm:text-4xl sm:leading-9 lg:text-5xl lg:leading-12 xl:text-6xl xl:leading-14 2xl:text-8xl 2xl:leading-[82px]"
      >
        Lorem ipsum dolor, sit amet
        <span class="subrayado relative inline-flex italic">
          consecteasda
          <span
            class="absolute bottom-0 -left-1.5 -z-10 h-[15px] w-[calc(100%+0.5rem)] -skew-x-[25deg] bg-turquoise-200 sm:h-[18px] lg:h-[24px] xl:h-[30px]"
          >
          </span>
        </span>
      </h2>
      <p class="pt-4 text-sm tracking-wider text-oxfordblue-400 sm:text-lg">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita, corrupti consectetur
        dolorem commodi sit ratione amet! Magni earum, adipisci illum delectus facilis
        necessitatibus facere praesentium repellat soluta voluptate placeat tenetur?
      </p>
    </div>
  </div>
</section>

<script>
  document.addEventListener('astro:page-load', () => {
    const subrayado = document.querySelector('.subrayado') as HTMLElement;
    if (!subrayado) return;

    const cantidadLetras = subrayado.textContent.trim().length;
    subrayado.style.width = `calc(${cantidadLetras}ch+20px)`;
  });
</script>
